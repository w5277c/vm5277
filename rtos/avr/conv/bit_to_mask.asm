;-----------------------------------------------------------------------------------------------------------------------
;Файл распространяется под лицензией GPL-3.0-or-later, https://www.gnu.org/licenses/gpl-3.0.txt
;-----------------------------------------------------------------------------------------------------------------------
;02.06.2025	konstantin@5277.ru		Взят из проекта core5277
;-----------------------------------------------------------------------------------------------------------------------
.IFNDEF BIT_TO_MASK
.include "conv/_bit_to_mask_table.asm"
;-----------------------------------------------------------
BIT_TO_MASK:
;-----------------------------------------------------------
;Номер бита в число(2^n)
;IN: TEMP-номер бита(0-7)
;OUT: TEMP-число(1,2,4,8,16,32,64,128)
;-----------------------------------------------------------
	PUSH_Z													;4
	LDI_Z _BIT_TO_MASK_TABLE*2								;2
	ADD ZL,TEMP												;1
	ADC ZH,C0x00											;1
	LPM TEMP,Z												;3
	POP_Z													;4,total:15t
	RET
.ENDIF

